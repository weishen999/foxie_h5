{"version":3,"sources":["webpack:///src/views/PageList.vue","webpack:///./src/views/PageList.vue?d765","webpack:///./src/views/PageList.vue","webpack:///./src/assets/loading.svg"],"names":["PageList","name","components","PList","List","created","this","getList","data","list","page","total","loading","pullUpLoadText","methods","_this","api","getLevel2","pageNo","pageSize","type","$route","params","then","res","code","setTimeout","content","forEach","element","push","totalElements","$bus","title","sortName","$nextTick","scroll","refresh","bscroll_esm","click","scrollY","length","on","pos","maxScrollY","y","alert","views_PageList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_e","_v","directives","rawName","value","expression","src","__webpack_require__","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports"],"mappings":"kKAeAA,GACAC,KAAA,WACAC,YAAAC,MAAAC,EAAA,GACAC,QAHA,WAIAC,KAAAC,WAEAC,KANA,WAOA,OACAC,QACAC,KAAA,EACAC,MAAA,KACAC,SAAA,EACAC,eAAA,cAGAC,SACAP,QADA,WACA,IAAAQ,EAAAT,KACAA,KAAAM,SAAA,EACAI,EAAA,EAAAC,WACAC,OAAAZ,KAAAI,KACAS,SAAA,GACAC,KAAAd,KAAAe,OAAAC,OAAAF,OACAG,KAAA,SAAAC,GACA,IAAAA,EAAAhB,KAAAiB,MACAC,WAAA,WACAX,EAAAH,SAAA,GACA,KACAY,EAAAhB,UAAAmB,QAAAC,QAAA,SAAAC,GACAd,EAAAN,KAAAqB,KAAAD,KAEAd,EAAAJ,MAAAa,EAAAhB,UAAAuB,cACAhB,EAAAiB,KAAAC,MAAAlB,EAAAN,KAAA,GAAAyB,SAAA,KACAnB,EAAAoB,UAAA,WACApB,EAAAqB,OAoBArB,EAAAqB,OAAAC,WAnBAtB,EAAAqB,OAAA,IAAAE,EAAA,kBACAC,OAAA,EACAC,SAAA,IAEAzB,EAAAN,KAAAgC,SAAA1B,EAAAJ,MACAI,EAAAF,eAAA,QAEAE,EAAAqB,OAAAM,GAAA,oBAAAC,GACA5B,EAAAqB,OAAAQ,WAAAD,EAAAE,EAAA,KACA9B,EAAAN,KAAAgC,SAAA1B,EAAAJ,MACAI,EAAAF,eAAA,SAEAE,EAAAL,OACAK,EAAAR,kBAUAuC,MAAA,mBCrEAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,gBAA0BL,EAAAxC,KAAAgC,OAAA,EAAAW,EAAA,UAAqCG,OAAOtB,MAAAgB,EAAAxC,KAAA,GAAAyB,SAAAd,KAAA,OAAAX,KAAAwC,EAAAxC,KAAAI,eAAAoC,EAAApC,kBAAgGoC,EAAAO,KAAAP,EAAAQ,GAAA,KAAAL,EAAA,OAAiCM,aAAazD,KAAA,OAAA0D,QAAA,SAAAC,MAAAX,EAAA,QAAAY,WAAA,YAAsEP,YAAA,YAAwBF,EAAA,OAAYG,OAAOO,IAAAC,EAAA,WAAwCd,EAAAQ,GAAA,KAAAL,EAAA,QAAyBE,YAAA,SAAmBL,EAAAQ,GAAA,mBAElfO,oBCCjB,IAcAC,EAdAF,EAAA,OAcAG,CACAlE,EACA+C,GATA,EAVA,SAAAoB,GACAJ,EAAA,SAaA,KAEA,MAUAK,EAAA,QAAAH,EAAA,4BC1BAI,EAAAC,QAAA","file":"static/js/1.94b7ae3ce12b0b8ce2dc.js","sourcesContent":["<template>\n  <div class=\"p-page-list\">\n    <p-list :title=\"list[0].sortName\" type=\"text\" :list=\"list\" v-if=\"list.length > 0\" :pullUpLoadText=\"pullUpLoadText\"></p-list>\n    <div class=\"loading\" v-show=\"loading\">\n      <img src=\"../assets/loading.svg\">\n      <span class=\"text\">加载中...</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PList from \"../components/List\";\nimport Api from \"../api\";\nimport Bscroll from \"better-scroll\";\n\nexport default {\n  name: \"pageList\",\n  components: { PList },\n  created() {\n    this.getList();\n  },\n  data() {\n    return {\n      list: [],\n      page: 0,\n      total: null,\n      loading: false,\n      pullUpLoadText: \"上拉加载更多...\"\n    };\n  },\n  methods: {\n    getList() {\n      this.loading = true;\n      Api.getLevel2({\n        pageNo: this.page,\n        pageSize: 20,\n        type: this.$route.params.type\n      }).then(res => {\n        if (res.data.code === 0) {\n          setTimeout(() => {\n            this.loading = false;\n          }, 500);\n          res.data.data.content.forEach(element => {\n            this.list.push(element);\n          });\n          this.total = res.data.data.totalElements;\n          this.$bus.title = this.list[0].sortName + \"列表\";\n          this.$nextTick(() => {\n            if (!this.scroll) {\n              this.scroll = new Bscroll(\".p-page-list\", {\n                click: true,\n                scrollY: true\n              });\n              if (this.list.length === this.total) {\n                this.pullUpLoadText = \"没有更多了\";\n              } else {\n                this.scroll.on(\"touchEnd\", pos => {\n                  if (this.scroll.maxScrollY > pos.y + 50) {\n                    if (this.list.length === this.total) {\n                      this.pullUpLoadText = \"没有更多了\";\n                    } else {\n                      this.page++;\n                      this.getList();\n                    }\n                  }\n                });\n              }\n            } else {\n              this.scroll.refresh();\n            }\n          });\n        } else {\n          alert(\"网络错误，请刷新重试\");\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.p-page-list {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  .loading {\n    position: fixed;\n    left: 50%;\n    top: 40%;\n    width: 80px;\n    height: 80px;\n    background-color: #1f1f1f;\n    opacity: 0.7;\n    border-radius: 5px;\n    z-index: 99999;\n    text-align: center;\n    transform: translate(-50%, -50%);\n    img {\n      width: 100%;\n      height: 60%;\n      object-fit: contain;\n    }\n    .text {\n      color: #fff;\n      font-size: 12px;\n    }\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/PageList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"p-page-list\"},[(_vm.list.length > 0)?_c('p-list',{attrs:{\"title\":_vm.list[0].sortName,\"type\":\"text\",\"list\":_vm.list,\"pullUpLoadText\":_vm.pullUpLoadText}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"../assets/loading.svg\")}}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"加载中...\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f7f0ae6e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/PageList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f7f0ae6e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PageList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PageList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PageList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f7f0ae6e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PageList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/PageList.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ibGRzLXNwaW5uZXIiIHdpZHRoPSIyMDBweCIgIGhlaWdodD0iMjAwcHgiICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiIHN0eWxlPSJiYWNrZ3JvdW5kOiBub25lOyI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmZmZmYiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC45MTY2NjY2NjY2NjY2NjY2cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmZmZmYiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC44MzMzMzMzMzMzMzMzMzM0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSg2MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmZmZmYiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC43NXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoOTAgNTAgNTApIj4KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmZmZmIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNjY2NjY2NjY2NjY2NjY2NnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iI2ZmZmZmZiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjU4MzMzMzMzMzMzMzMzMzRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDE1MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmZmZmYiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNTAgNTApIj4KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmZmZmIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuNDE2NjY2NjY2NjY2NjY2N3MiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMjEwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iI2ZmZmZmZiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjMzMzMzMzMzMzMzMzMzMzNzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDI0MCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmZmZmYiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSItMC4yNXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L2c+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDUwIDUwKSI+CiAgPHJlY3QgeD0iNDciIHk9IjI0IiByeD0iOS40IiByeT0iNC44IiB3aWR0aD0iNiIgaGVpZ2h0PSIxMiIgZmlsbD0iI2ZmZmZmZiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgdGltZXM9IjA7MSIgZHVyPSIxcyIgYmVnaW49Ii0wLjE2NjY2NjY2NjY2NjY2NjY2cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgzMDAgNTAgNTApIj4KICA8cmVjdCB4PSI0NyIgeT0iMjQiIHJ4PSI5LjQiIHJ5PSI0LjgiIHdpZHRoPSI2IiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmZmZmIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIHZhbHVlcz0iMTswIiB0aW1lcz0iMDsxIiBkdXI9IjFzIiBiZWdpbj0iLTAuMDgzMzMzMzMzMzMzMzMzMzNzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSI+PC9hbmltYXRlPgogIDwvcmVjdD4KPC9nPjxnIHRyYW5zZm9ybT0icm90YXRlKDMzMCA1MCA1MCkiPgogIDxyZWN0IHg9IjQ3IiB5PSIyNCIgcng9IjkuNCIgcnk9IjQuOCIgd2lkdGg9IjYiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmZmZmYiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgdmFsdWVzPSIxOzAiIHRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSIwcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CjwvZz48L3N2Zz4=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/loading.svg\n// module id = nuJt\n// module chunks = 1 2"],"sourceRoot":""}